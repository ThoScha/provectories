(this["webpackJsonppowerbi-embedded-sample"]=this["webpackJsonppowerbi-embedded-sample"]||[]).push([[0],{184:function(e,t,n){e.exports=n(387)},387:function(e,t,n){"use strict";n.r(t);n(185),n(194),n(377);var a=n(0),r=n.n(a),o=n(180),c=n.n(o),i=n(4),s=n.n(i),l=n(14),u=n(15),d=n(16),p=n(390),m=n(391),f=["https://analysis.windows.net/powerbi/api/Report.Read.All"],h="0223b04f-f0a4-43c6-9dbe-e152236e6a5a",b="7c8477cc-60dc-4edf-a9f0-71b6f1b575da";function v(e){var t=e.radioButtonId,n=e.title,r=e.selected,o=e.setSelected,c=n.replaceAll(" ","")+"-"+t;return a.createElement(a.Fragment,null,a.createElement("input",{type:"radio",className:"btn-check",onChange:function(){return o(t)},name:c,id:c,autoComplete:"off",checked:r===t}),a.createElement("label",{className:"btn btn-outline-secondary",htmlFor:c},n))}function y(e){var t=e.age,n=e.gender,a=e.experience,o=e.confidence,c=e.setAge,i=e.setGender,s=e.setExperience,l=e.setConfidence,u=e.setShowNextButton;return r.a.useEffect((function(){n.length>0&&t>0&&(-1!==o&&"Yes"===a||"No"===a)?u(!0):u(!1),"No"===a&&l(-1)}),[n,t,o,a,l,u]),r.a.createElement("div",null,r.a.createElement("h2",{className:"mb-4"},"Demographic Information"),r.a.createElement("div",{className:"row my-3"},r.a.createElement("div",{className:"col-8"},r.a.createElement("h5",null,"Please indicate your age")),r.a.createElement("div",{className:"col-4"},r.a.createElement("input",{type:"number",min:"0",max:"100",className:"form-control",value:t,onChange:function(e){return c(e.target.valueAsNumber)}}))),r.a.createElement("div",{className:"row my-3"},r.a.createElement("div",{className:"col-8"},r.a.createElement("h5",null,"Please indicate your gender")),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"btn-group w-100",role:"group","aria-label":"gender-radio-button-group"},["m","f","d"].map((function(e){return r.a.createElement(v,{key:"gender-radio-button-".concat(e),radioButtonId:e,title:e,selected:n,setSelected:i})}))))),r.a.createElement("div",{className:"row my-3"},r.a.createElement("div",{className:"col-8"},r.a.createElement("h5",null,"Do you already have experience with Dashboards/Interactive Visual Analytics Tools?")),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"btn-group w-100",role:"group","aria-label":"experience-radio-button-group"},["Yes","No"].map((function(e){return r.a.createElement(v,{key:"experience-radio-button-".concat(e),radioButtonId:e,title:e,selected:a,setSelected:s})}))))),"Yes"===a?r.a.createElement("div",{className:"row my-3"},r.a.createElement("div",{className:"col-8"},r.a.createElement("h5",null,"How would you rate your confidence in using Dashboards/Interactive Visual Analytics Tools?")),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"btn-group w-100",role:"group","aria-label":"confidence-radio-button-group"},[1,2,3,4,5,6].map((function(e){return r.a.createElement(v,{key:"confidence-radio-button-".concat(e),radioButtonId:e,title:String(e),selected:o,setSelected:l})}))),r.a.createElement("div",{className:"d-flex justify-content-between text-muted"},r.a.createElement("i",null,"1 - very low confidence"),r.a.createElement("i",null,"6 - very high confidence")))):null)}function w(e){var t=e.setShowNextButton,n=a.useState(!1),r=Object(d.a)(n,2),o=r[0],c=r[1],i=a.useState(!1),s=Object(d.a)(i,2),l=s[0],u=s[1];return a.createElement("div",null,a.createElement("h2",null,"Data Protection"),a.createElement("b",null,"Why do we collect and process your data?"),a.createElement("p",null,"The study is a purely scientific study conducted by the LIT Robopsychology Lab and the Institute for Computer Graphics at the Johannes Kepler University Linz. The data will be used primarily to generate scientific insights. Any publication will be in anonymous form."),a.createElement("p",null,"Participation in the study is entirely voluntary. You may withdraw your consent to participate at any time and without giving any reason, without incurring any disadvantages."),a.createElement("p",null,"With the declaration of participation below, you confirm that you have read the subject information and data protection information and that you have understood the aim, procedure and implementation of the study, as well as the data protection regulations. In addition, by confirming the declaration of participation below, you voluntarily agree to participate in the study and confirm that you are over 18 years of age."),a.createElement("b",null,"How can you contact us?"),a.createElement("p",null,"The responsible party for the procesing of the data described below within the meaning of Art 4 No. 7 GDPR is Johannes Kepler University Linz (JKU), Altenberger Stra\xdfe 69, 4040 Linz, ",a.createElement("a",{href:"datenschutz@jku.at"},"datenschutz@jku.at"),". If you have any questions about the study, please contact Thomas-Johann Schachinger, Johannes Kepler University Linz, Altenberger Stra\xdfe 69, 4040 Linz, ",a.createElement("a",{href:"mailto:thomas.schachinger@icloud.com"},"thomas.schachinger@icloud.com")," or"," ",a.createElement("a",{href:"cg@jku.at"},"cg@jku.at"),"."),a.createElement("p",null,"If you would like more information about the processing of your personal data,"," ",a.createElement("button",{className:" btn btn-link pb-1 p-0",type:"button",onClick:function(){return c(!0)}},"please click here"),"."),a.createElement("div",{className:"form-check mt-4 mb-5 ms-1"},a.createElement("input",{className:"form-check-input",type:"checkbox",id:"flexCheckChecked",checked:l,onChange:function(e){u(e.target.checked),t(!0)}}),a.createElement("label",{className:"form-check-label",htmlFor:"flexCheckChecked"},a.createElement("b",null,"I consent to the processing of my personal data in accordance with the information provided here."))),o?a.createElement(a.Fragment,null,a.createElement("b",null,"Information on data processing"),a.createElement("b",null,"How long will the personal data be processed?"),a.createElement("p",null,"The data collected as part of the study will be recorded and statistically analyzed by an electronic data system. After completion of the study, all data will be stored and archived according to the currently valid guidelines. The fully anonymized data of this study can be made accessible as open data on the Internet in a data archive no later than five years after completion of the study. Thus, this study follows the recommendations of the German Research Foundation (DFG) and the German Psychological Society (DGPs) for quality assurance in research."),a.createElement("b",null,"What personal data are collected and processed?"),a.createElement("p",null,"Although information about you, including gender, age, and experience with visualization systems, is requested, due to the anonymity of the survey, you are not identifiable by this information. Directly personal or personally identifiable data that allows conclusions to be drawn about your identity is not collected."),a.createElement("b",null,"What special categories of personal data are collected and processed?"),a.createElement("p",null,"None"),a.createElement("b",null,"Legal basis for processing"),a.createElement("p",null,"Processing is based on the consent of the data subject."),a.createElement("b",null,"Data transfer to a country outside the EU/EEA or to an international organization, and data transfer subject to appropriate safeguards."),a.createElement("p",null,"The anonymized data will be made available to the client of the study or to a body appointed by the client for scientific purposes or for the purpose of university teaching. The anonymized data may also be made available to persons from non-EU member states in the course of international research collaborations."),a.createElement("b",null,"Legal or contractual requirement"),a.createElement("p",null,"Any publication of research results is done anonymously. This ensures that it is impossible to draw conclusions about you as a person. Compliance with the Federal Data Protection Act is ensured in full."),a.createElement("b",null,"Automated procedure"),a.createElement("p",null,"No automated decision-making processes are carried out on the basis of personal data."),a.createElement("b",null,"Information on the rights of data subjects"),a.createElement("p",null,"Since no personal data is collected, once data collection is complete, it is no longer possible to link the data in the data record to directly personal data (e.g., IP address) - the data record is anonymous. This means that after completion of this data collection, it is no longer possible to specifically delete your personal data record, as it cannot be identified."),a.createElement("b",null,"Information about the right to withdraw consent"),a.createElement("p",null,"Participation in the study is entirely voluntary. You can withdraw your consent to participate at any time and without giving reasons, without incurring any disadvantages. The processing of data prior to the withdrawal of consent remains lawful."),a.createElement("b",null,"Data protection authority"),a.createElement("p",null,"In addition, data subjects may complain about what they consider to be unlawful data processing to the Austrian Data Protection Authority, Barichgasse 40-42, 1030 Vienna, Tel.: + 43 1 52 152-0, e-mail:",a.createElement("a",{href:"dsb@dsb.gv.at"},"dsb@dsb.gv.at"),"."),a.createElement("b",null,"Our data protection officer"),a.createElement("p",null,"The data protection officer within the meaning of Art 37 GDPR can be reached at Johannes Kepler University Linz (JKU), Data Protection Unit, Altenberger Stra\xdfe 69, 4040 Linz, ",a.createElement("a",{href:"datenschutz@jku.at"},"datenschutz@jku.at"),".")):null)}var E=n(33),g=n(47),k=n(37);n(179);function j(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=null;case 2:if(!(n<4)){e.next=16;break}return e.prev=3,e.next=6,t.exportData(k.models.ExportDataType.Summarized);case 6:return a=e.sent,e.abrupt("break",16);case 10:e.prev=10,e.t0=e.catch(3),4===++n&&console.error("exportData - "+t.title,e.t0);case 14:e.next=2;break;case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function S(e){return e.split(" ").map((function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)})).join("")}function N(e){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},!t.getCapabilities){e.next=8;break}return e.next=4,t.getCapabilities();case 4:if(!(a=e.sent).dataRoles){e.next=8;break}return e.next=8,Promise.all(a.dataRoles.map(function(){var e=Object(u.a)(s.a.mark((function e(a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDataFields(a.name);case 2:if(!((r=e.sent).length>0)){e.next=6;break}return e.next=6,Promise.all(r.map(function(){var e=Object(u.a)(s.a.mark((function e(r,o){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDataFieldDisplayName(a.name,o);case 2:c=e.sent,n[S(c)]=a.name;case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t.getPages().then(function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e){return e.isActive}))[0].getVisuals().then((function(e){return e.filter((function(e){return"card"!==e.type&&"shape"!==e.type&&"textbox"!==e.type}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.prev=4,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function T(e,t){var n={},a=new Set,r=new Set;return Object.keys(t).forEach((function(o){var c=e[o],i=c.visState,s=c.selected,l=c.type,u=t[o].visState;Object.keys(u).forEach((function(e){var t=u[e],c=i[e],d=o+"."+e,p=[];"number"===typeof t[0]?(d+="<numerical>",p.push.apply(p,Object(E.a)(c.length>0?c:[0]))):(d+="<categorical>",t.forEach((function(t){var n;s&&(null===(n=s[e])||void 0===n?void 0:n.includes(t))?(p.push(1),a.add(d)):p.push(0),"slicer"!==l&&(c.includes(t)?p.push(0):(p.push(1),r.add(d)))}))),n[d]=p}))})),Object(l.a)({selectedValues:Array.from(a).join(", ")||"",filteredValues:Array.from(r).join(", ")||""},n)}function P(e){var t=e.questionProvanencesRef,n=e.age,a=e.gender,o=e.experience,c=e.confidence,i=e.satisfaction,s=e.user,u=r.a.useState(!1),p=Object(d.a)(u,2),m=p[0],f=p[1],h=r.a.useState(!1),b=Object(d.a)(h,2),v=b[0],y=b[1],w=function(){var e=[];return t.current.sort((function(e,t){return e.questionId-t.questionId})).forEach((function(t,r){var u=Object(l.a)({user:s,age:n,gender:a,experience:"Yes"===o?1:0,confidence:c,satisfaction:i},Object.keys(t).filter((function(e){return"provenance"!==e})).reduce((function(e,n){return Object(l.a)(Object(l.a)({},e),{},Object(g.a)({},n,t[n]))}),{})),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.root,a=e.graph,r=[];return Object.keys(a.nodes).forEach((function(o){var c=a.nodes[o],i=T(e.getState(c.id),e.getState(n.id));o===n.id&&r.push(["timestamp"].concat(Object(E.a)(Object.keys(t)),["triggeredAction"],Object(E.a)(Object.keys(i))));var s=[c.metadata.createdOn||-1].concat(Object(E.a)(Object.values(t)),[c.label]);r[0].slice(r[0].length-Object.keys(i).length).forEach((function(e){return s.push(i[e]?i[e]:"")})),r.push(s)})),r}(t.provenance,u);r>0&&(d=d.slice(1)),e.push.apply(e,Object(E.a)(d))})),function(e){var t="data:text/csv;charset=utf-8,";return e.forEach((function(e,n){0===n?t+=e.join(";")+"\r\n":e.forEach((function(n,a){var r="string"===typeof n?n:JSON.stringify(n);r=r.replaceAll("[","").replaceAll("]",""),t+=r,t+=a<e.length-1?";":"\r\n"}))})),t}(e)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Thank you for attending!"),r.a.createElement("h4",null,"To save your provenance status please click following button to download it as csv-file"),r.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:function(){!function(){var e=encodeURI(w()),t=document.createElement("a");t.style.display="none","download"in t?(t.download="provectories-".concat(s,".csv"),t.href=e,t.click()):window.open(e,"_self"),t.remove()}(),f(!0)}},"Download CSV"),m?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"When downloaded please upload your created csv-file here:"),r.a.createElement("a",{href:"https://drive.google.com/drive/folders/1ZJAY7lLsvxNEv2QYFxpPi_8Pn7v4uv0n?usp=sharing",target:"_blank",rel:"noopener noreferrer",onClick:function(){return y(!0)}},"https://drive.google.com/drive/folders/1ZJAY7lLsvxNEv2QYFxpPi_8Pn7v4uv0n?usp=sharing")):null,v?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Thank you!"),r.a.createElement("p",null,"To logout just close this window")):null)}var q=n(181),R=n(182),C=n(183);function D(e){var t=Object(C.initProvenance)(e);t.done();var n=function(){var e=Object(u.a)(s.a.mark((function e(n){var a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:a=e.sent,r=a.newState,o=a.label,t.apply({apply:function(e){return{state:r,label:o,stateSaveMode:"Complete",actionType:"Regular",eventType:"",meta:{}}}},o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{provenance:t,actions:{event:n}}}var J={};function z(e){Object.keys(e).forEach((function(t){J[t]=e[t]}))}var B=function(){function e(t){Object(q.a)(this,e),this.appState=void 0,this.report=void 0,this.appState={},this.report=t,this.init()}return Object(R.a)(e,[{key:"setVisSelected",value:function(e){var t=e.detail.dataPoints,n=e.detail.visual,a=n.type,r=n.title,o=this.appState,c="".concat(r," (").concat(a,") - ");"slicer"!==a&&Object.keys(o).forEach((function(e){var t=o[e];t.selected="slicer"!==t.type?null:t.selected}));var i=o[S(r)];if(t.length>0){var s={};return t.forEach((function(e){e.identity.forEach((function(e){s[e.target.column]=[].concat(Object(E.a)(s[e.target.column]?s[e.target.column]:[]),[e.equals])}))})),Object.keys(s).forEach((function(e,t){c+="".concat(t>0?". ":"").concat(e,": "),i.selected=Object(l.a)(Object(l.a)({},i.selected),{},Object(g.a)({},e,Array.from(new Set(s[e])))),s[e].forEach((function(e,t){c+="".concat(t>0?", ":"").concat(e)}))})),c+" selected"}return i.selected=null,c+"deselected"}},{key:"setVisState",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(this.report);case 2:return n=e.sent,e.next=5,Promise.all(n.map(function(){var e=Object(u.a)(s.a.mark((function e(n){var a,r,o,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(n);case 2:return a=e.sent,e.next=5,N(n);case 5:if(r=e.sent,a){e.next=8;break}return e.abrupt("return");case 8:o=a.data.replaceAll("\n","").split("\r").map((function(e){return e.split(",")})).slice(0,-1),c={},o[0].forEach((function(e,t){var n=S(e);c[n]=[];var a=c[n],i=r[n];o.forEach((function(e,n){if(0!==n&&e[t]){var r=e[t],o=r.match(/\d+/),c=o&&"Y"===i?parseInt(o[0]):r;a.push(c)}}))})),i=t[S(n.title)].visState,Object.keys(c).forEach((function(e){var t=Array.from(c[e]);i[e]="number"===typeof t[0]?t:Array.from(new Set(t))}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initAppState",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(this.report);case 2:e.sent.forEach((function(e){var n=S(e.title);t.appState&&!t.appState[n]&&(t.appState[S(n)]={selected:null,type:e.type,visState:{}})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a,r,o,c=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initAppState();case 2:return e.next=4,this.setVisState(this.appState);case 4:return n=e.sent,a=D(n),r=a.actions,z(a.provenance),e.next=9,this.report.getActivePage();case 9:o=e.sent.name,null===(t=this.report)||void 0===t||t.on("dataSelected",function(){var e=Object(u.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,c.report.getActivePage();case 3:if(e.t1=e.sent.name,e.t0!==e.t1){e.next=10;break}n=c.setVisSelected(t),a=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.setVisState("object"===typeof(a=c.appState)?JSON.parse(JSON.stringify(a)):a);case 2:return t=e.sent,e.abrupt("return",{newState:t,label:n});case 4:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),r.event(a),e.next=11;break;case 10:console.log("Not on the tracked page");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();var U=new k.service.Service(k.factories.hpmFactory,k.factories.wpmpFactory,k.factories.routerFactory);function F(e){var t=e.questionId,n=e.reportRef,r=e.error,o=e.embedUrl,c=e.accessTokenRef,i=a.useRef(null),s=a.useCallback((function(){var e=null;if(!r.length){if(""!==c.current&&""!==o){var t={type:"report",tokenType:k.models.TokenType.Aad,accessToken:c.current,embedUrl:o,permissions:k.models.Permissions.All,id:b,settings:{visualRenderedEvents:!0,panes:{filters:{visible:!0},pageNavigation:{visible:!0}}}};return i.current&&((e=U.embed(i.current,t)).off("loaded"),e.on("loaded",(function(){console.log("Report load successful"),function(e){new B(e)}(e)})),e.off("error"),e.on("error",(function(e){var t=e.detail;console.error(t)}))),e}throw Error("No container for the report")}i.current.textContent="",r.forEach((function(e){i.current.appendChild(document.createTextNode(e)),i.current.appendChild(document.createElement("br"))})),console.log("Error",r)}),[r,o,c,i]);return a.useEffect((function(){n.current=s();var e=i.current;return function(){e&&U.reset(e)}}),[s,t,n]),a.createElement("div",{id:"reportContainer",className:"d-flex mb-1",ref:i,style:{height:"65vh"}},"Loading the report...")}function L(e){var t=e.reportRef,n=e.embedUrl,r=e.error,o=e.accessTokenRef,c=e.currentQuestion,i=e.setCurrentQuestion,s=e.setShowNextButton,u=a.useState(!1),p=Object(d.a)(u,2),m=p[0],f=p[1];return a.useEffect((function(){var e;f(!1),null===(e=t.current)||void 0===e||e.on("rendered",(function(){var e;f(!0),null===(e=t.current)||void 0===e||e.off("rendered")}))}),[c.questionId,t]),a.createElement("div",{className:"ms-2"},a.createElement("div",{className:"my-3"},a.createElement(F,{reportRef:t,accessTokenRef:o,embedUrl:n,error:r,questionId:c.questionId})),a.createElement("div",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-6"},a.createElement("h5",null,c.question)),a.createElement("div",{className:"col-6"},a.createElement("div",{className:"btn-group w-100",role:"group","aria-label":"evaluation-answer-radio-button-group"},m?Object.keys(c.answerPossibilities).map((function(e){return a.createElement(v,{key:"evaluation-answer-".concat(c.questionId,"-").concat(e),radioButtonId:Number(e),title:c.answerPossibilities[e].toString(),selected:c.answerId,setSelected:function(e){return i((function(t){return Object(l.a)(Object(l.a)({},t),{},{answerId:e})}))}})})):null))),-1!==c.answerId?a.createElement("div",{className:"mt-3 row"},a.createElement("div",{className:"col-6"},a.createElement("h5",null,"How high would you rate the amount of mental effort invested for completing this task?")),a.createElement("div",{className:"col-6"},a.createElement("div",{className:"btn-group w-100",role:"group","aria-label":"mental-effort-radio-button-group"},[1,2,3,4,5,6].map((function(e){return a.createElement(v,{key:"mental-effort-radio-button-".concat(e),radioButtonId:e,title:e.toString(),selected:c.mentalEffort,setSelected:function(e){i((function(t){return Object(l.a)(Object(l.a)({},t),{},{mentalEffort:e})})),s(!0)}})}))),a.createElement("div",{className:"d-flex justify-content-between text-muted"},a.createElement("i",null,"1 - very low mental effort"),a.createElement("i",null,"6 - very high mental efford")))):null))}function G(e){var t=e.satisfaction,n=e.setSatisfaction,a=e.setShowNextButton;return r.a.useEffect((function(){t>-1&&a(!0)}),[t,a]),r.a.createElement("div",null,r.a.createElement("h3",{className:"mb-4"},"User Experience"),r.a.createElement("div",{className:"row my-3"},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("h4",null,"How satisfied are you with of your experience of information retrieval based on the previous used dashboard?")),r.a.createElement("div",{className:"row w-75"},r.a.createElement("div",{className:"btn-group w-100",role:"group","aria-label":"satisfaction-radio-button-group"},[1,2,3,4,5,6].map((function(e){return r.a.createElement(v,{key:"satisfaction-radio-button-".concat(e),radioButtonId:e,title:String(e),selected:t,setSelected:n})}))),r.a.createElement("div",{className:"d-flex justify-content-between text-muted"},r.a.createElement("i",null,"1 - very low satisfaction"),r.a.createElement("i",null,"6 - very high satisfaction")))))}var V=[].concat(Object(E.a)([{questionId:1,taskId:1,question:"In which month of 2014 the most Group A employees were hired in the Northwest region?",answerPossibilities:{1:"October",2:"July",3:"September",4:"December"},correctAnswerId:2},{questionId:2,taskId:1,question:"How many part-time employees did region East hire in 2014?",answerPossibilities:{1:"1021",2:"905",3:"1749",4:"313"},correctAnswerId:1},{questionId:3,taskId:2,question:"Were more Group F employees hired in 2012 or in 2013?",answerPossibilities:{1:2012,2:2013},correctAnswerId:2},{questionId:4,taskId:2,question:"In which month, in either 2012 or 2014, most employees were hired in the Northwest? Answer with month and year.",answerPossibilities:{1:"Oct 2014",2:"Nov 2012",3:"Jul 2014",4:"Jun 2014"},correctAnswerId:3},{questionId:5,taskId:3,question:"How many new Group B hires in the East region happened in the range from January to June in 2012?",answerPossibilities:{1:22,2:69,3:18,4:6},correctAnswerId:1},{questionId:6,taskId:3,question:"How many employees of all ethnicities except Group A did region South hire in 2013?",answerPossibilities:{1:768,2:422,3:802,4:565},correctAnswerId:1}].sort((function(e,t){return.5-Math.random()}))),[{questionId:7,taskId:4,question:"Across all years, which month had the most part-time hires? Answer with month and year.",answerPossibilities:{1:"Oct 2013",2:"Jun 2014",3:"Nov 2012",4:"Sept 2014"},correctAnswerId:4},{questionId:8,taskId:4,question:"Which region had at least one month with a lower number of new hires in 2012 than in 2011?",answerPossibilities:{1:"West",2:"South",3:"Northwest",4:"East"},correctAnswerId:2}]).reduce((function(e,t,n){return Object(l.a)(Object(l.a)({},e),{},Object(g.a)({},n+1,t))}),{}),Y=n(115),H=n.n(Y),W=Object(m.a)();function Q(){var e=a.useState(0),t=Object(d.a)(e,2),n=t[0],r=t[1],o=a.useState([]),c=Object(d.a)(o,2),i=c[0],m=c[1],v=a.useState(""),E=Object(d.a)(v,2),g=E[0],k=E[1],j=a.useState(""),x=Object(d.a)(j,2),S=x[0],N=x[1],O=a.useState(""),I=Object(d.a)(O,2),A=I[0],T=I[1],q=a.useState(-1),R=Object(d.a)(q,2),C=R[0],D=R[1],z=a.useState(0),B=Object(d.a)(z,2),U=B[0],F=B[1],Y=a.useState(-1),Q=Object(d.a)(Y,2),K=Q[0],_=Q[1],M=a.useState(!1),Z=Object(d.a)(M,2),X=Z[0],$=Z[1],ee=a.useState(null),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=a.useState(!1),oe=Object(d.a)(re,2),ce=oe[0],ie=oe[1],se=a.useRef([]),le=a.useRef(""),ue=U-1,de=a.useRef(),pe=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie(!0),!ne){e.next=4;break}return e.next=4,new Promise((function(e){setTimeout((function(){se.current.push(Object(l.a)(Object(l.a)({},H.a.omit(ne,["answerPossibilities","question"])),{},{provenance:H.a.cloneDeep(J),endtime:(new Date).getTime()})),e(-1)}),1500)}));case 4:$(!1),ie(!1),F((function(e){return e+1}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.useEffect((function(){ae(V[ue]?Object(l.a)(Object(l.a)({},V[ue]),{},{mentalEffort:-1,answerId:-1}):null)}),[ue]);var me=a.useMemo((function(){switch(U){case 0:return a.createElement(w,{setShowNextButton:$});case 1:return a.createElement(y,{age:n,gender:g,experience:A,confidence:C,setShowNextButton:$,setExperience:T,setConfidence:D,setGender:k,setAge:r});case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return ne?a.createElement(L,{error:i,embedUrl:S,reportRef:de,accessTokenRef:le,currentQuestion:ne,setCurrentQuestion:ae,setShowNextButton:$}):a.createElement("p",null,"Invalid question number");case 10:return a.createElement(G,{satisfaction:K,setSatisfaction:_,setShowNextButton:$});case 11:return a.createElement(P,{age:n,user:W,gender:g,experience:A,confidence:C,satisfaction:K,questionProvanencesRef:se});default:return a.createElement("p",null,"Invalid page number!")}}),[n,i,g,S,A,C,U,K,ne,ae,$,_,D,T,k,r]),fe=a.useCallback((function(){fetch("https://api.powerbi.com/v1.0/myorg/groups/"+h+"/reports/"+b,{headers:{Authorization:"Bearer "+le.current},method:"GET"}).then((function(e){var t=[];t.push("Error occurred while fetching the embed URL of the report"),t.push("Request Id: "+e.headers.get("requestId")),e.json().then((function(n){e.ok?N(n.embedUrl):(t.push("Error "+e.status+": "+n.error.code),m(t))})).catch((function(){t.push("Error "+e.status+":  An error has occurred"),m(t)}))})).catch((function(e){m(e)}))}),[le]),he=a.useCallback((function(){var e={auth:{clientId:"f1f98e67-aeb3-406c-a3f6-8c90654a8562"}},t={scopes:f},n=new p.a(e);n.handleRedirectCallback((function(e){"id_token"===e.tokenType?he():"access_token"===e.tokenType?(le.current=e.accessToken,fe()):m(["Token type is: "+e.tokenType])}),(function(e){m(["Redirect error: "+e])})),n.getAccount()?n.acquireTokenSilent(t).then((function(e){le.current=e.accessToken,fe()})).catch((function(e){"InteractionRequiredAuthError"===e.name?n.acquireTokenRedirect(t):m([e.toString()])})):n.loginRedirect(t)}),[fe]);return a.useEffect((function(){he()}),[he]),a.createElement("div",{className:"d-flex flex-column"},a.createElement("div",null,a.createElement("h2",{id:"title",className:"m-0 p-1"},"Provectories: New Hires Example")),a.createElement("div",{className:"card m-1 overflow-auto",style:{height:"88vh"}},a.createElement("div",{className:"card-body"},me)),a.createElement("div",{className:"d-flex justify-content-between mx-1"},a.createElement("p",{className:"text-muted"},ne?"Question ".concat(ue,"/8"):null),X?a.createElement("button",{className:"btn btn-primary",onClick:function(){return pe()},disabled:ce,type:"button",style:{width:"12vh"}},ce?"Loading...":"Next"):null))}c.a.render(r.a.createElement(Q,null),document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.3e5af732.chunk.js.map